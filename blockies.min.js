var $jscomp$destructuring$var0=require("pngjs"),PNG=$jscomp$destructuring$var0.PNG,parseColor=require("parse-color"),randseed=Array(4);function seedrand(a){for(var b=0;b<randseed.length;b++)randseed[b]=0;for(b=0;b<a.length;b++)randseed[b%4]=(randseed[b%4]<<5)-randseed[b%4]+a.charCodeAt(b)}function rand(){var a=randseed[0]^randseed[0]<<11;randseed[0]=randseed[1];randseed[1]=randseed[2];randseed[2]=randseed[3];randseed[3]=randseed[3]^randseed[3]>>19^a^a>>8;return(randseed[3]>>>0)/2147483648}
function createColor(){var a=Math.floor(360*rand()),b=60*rand()+40+"%",e=25*(rand()+rand()+rand()+rand())+"%";return"hsl("+a+","+b+","+e+")"}function createImageData(a){for(var b=Math.ceil(a/2),e=a-b,h=[],k=0;k<a;k++){for(var d=[],c=0;c<b;c++)d[c]=Math.floor(2.3*rand());c=d.slice(0,e).reverse();d=d.concat(c);for(c=0;c<d.length;c++)h.push(d[c])}return h}
function buildOpts(a){var b={};b.size=a.size||8;b.scale=a.scale||4;b.seed=a.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16);seedrand(b.seed);b.color=a.color||createColor();b.bgcolor=a.bgcolor||createColor();b.spotcolor=a.spotcolor||createColor();return b}
function createIcon(a){a=buildOpts(a||{});for(var b=createImageData(a.size),e=Math.sqrt(b.length),h=parseColor(a.bgcolor).rgb,k=parseColor(a.color).rgb,d=parseColor(a.spotcolor).rgb,c=a.size*a.scale,c=new PNG({width:c,height:c,colorType:2}),f=0;f<b.length;f++){var p=(Math.floor(f/e)*a.size*a.scale+f%e)*a.scale*4;switch(b[f]){case 0:var g=h;break;case 1:g=k;break;default:g=d}for(var m=0;m<a.scale;m++)for(var n=0;n<a.scale;n++){var l=p+4*(n+m*a.size*a.scale);c.data[l]=g[0];c.data[l+1]=g[1];c.data[l+
2]=g[2];c.data[l+3]=255}}return PNG.sync.write(c,{})}function createIconAsDataURL(a){return"data:image/png;base64,"+createIcon(a).toString("base64")}module.exports={createBuffer:createIcon,createDataURL:createIconAsDataURL};