(function(){function h(){var a=b[0]^b[0]<<11;b[0]=b[1];b[1]=b[2];b[2]=b[3];b[3]=b[3]^b[3]>>19^a^a>>8;return(b[3]>>>0)/2147483648}function p(){var a=Math.floor(360*h()),b=60*h()+40+"%",g=25*(h()+h()+h()+h())+"%";return"hsl("+a+","+b+","+g+")"}function l(a){a=a||{};var f={};f.size=a.size||8;f.scale=a.scale||4;f.seed=a.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16);for(var g=f.seed,d=0;d<b.length;d++)b[d]=0;for(d=0;d<g.length;d++)b[d%4]=(b[d%4]<<5)-b[d%4]+g.charCodeAt(d);f.color=a.color||
p();f.bgcolor=a.bgcolor||p();f.spotcolor=a.spotcolor||p();a=f;for(var g=a.size,d=Math.ceil(g/2),q=g-d,f=[],m=0;m<g;m++){for(var e=[],c=0;c<d;c++)e[c]=Math.floor(2.3*h());c=e.slice(0,q);c.reverse();e=e.concat(c);for(c=0;c<e.length;c++)f.push(e[c])}g=Math.sqrt(f.length);d=r(a.bgcolor).rgb;q=r(a.color).rgb;m=r(a.spotcolor).rgb;e=a.size*a.scale;e=new v({width:e,height:e,colorType:2});for(c=0;c<f.length;c++){var l=(Math.floor(c/g)*a.size*a.scale+c%g)*a.scale*4;switch(f[c]){case 0:var k=d;break;case 1:k=
q;break;default:k=m}for(var t=0;t<a.scale;t++)for(var u=0;u<a.scale;u++){var n=l+4*(u+t*a.size*a.scale);e.data[n]=k[0];e.data[n+1]=k[1];e.data[n+2]=k[2];e.data[n+3]=255}}return v.sync.write(e,{})}var v=require("pngjs").PNG,r=require("parse-color"),b=Array(4);module.exports={createBuffer:l,createDataURL:function(a){return"data:image/png;base64,"+l(a).toString("base64")}}})();